<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>λ΅λ λ²νΈ μ¶”μ²</title>
  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
      background:#0b0f17;
      color:#e5e7eb;
    }
    .wrap{max-width:720px;margin:0 auto;padding:28px 16px;}
    .card{
      background:#111827;
      border:1px solid #243044;
      border-radius:16px;
      padding:18px;
    }
    h1{margin:0 0 8px;font-size:20px;}
    p{margin:0 0 14px;color:#9ca3af;font-size:13px;line-height:1.5;}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;}
    .btn{
      padding:12px 14px;
      border-radius:12px;
      border:1px solid #243044;
      background:#7c3aed;
      color:#fff;
      cursor:pointer;
      font-weight:700;
    }
    .btn:hover{filter:brightness(1.05);}
    select,input{
      padding:12px 12px;
      border-radius:12px;
      border:1px solid #243044;
      background:#0f172a;
      color:#e5e7eb;
      outline:none;
    }
    .result{
      margin-top:14px;
      padding:14px;
      border-radius:14px;
      border:1px solid #243044;
      background:#0f172a;
    }
    .nums{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
    .ball{
      width:48px;height:48px;
      border-radius:999px;
      border:1px solid #243044;
      background:#111827;
      display:flex;align-items:center;justify-content:center;
      font-size:18px;font-weight:800;
      user-select:none;
    }
    .mini{margin-top:10px;color:#9ca3af;font-size:12px;line-height:1.4;}
    .history{
      margin-top:14px;
      color:#cbd5e1;
      font-size:12px;
      line-height:1.6;
    }
    .history code{background:#0b1222;border:1px solid #243044;border-radius:8px;padding:2px 6px;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>λ΅λ λ²νΈ μ¶”μ²κΈ°</h1>
      <p>λ²„νΌ λ„λ¥΄λ©΄ 1~45μ—μ„ μ¤‘λ³µ μ—†μ΄ 6κ° λ½‘μ•„μ¤μ”. (λ‹Ήμ²¨ λ³΄μ¥μ€ μ—†μ π…)</p>

      <div class="row">
        <label>
          μ„ΈνΈ κ°μ&nbsp;
          <select id="count">
            <option value="1">1μ„ΈνΈ</option>
            <option value="2">2μ„ΈνΈ</option>
            <option value="3">3μ„ΈνΈ</option>
            <option value="5">5μ„ΈνΈ</option>
          </select>
        </label>

        <label>
          κ³ μ •ν•  μ«μ(μ„ νƒ)&nbsp;
          <input id="fixed" type="text" placeholder="μ: 7, 13" />
        </label>

        <button class="btn" id="btn">λ²νΈ μ¶”μ²</button>
      </div>

      <div id="out" class="result" aria-live="polite">
        <b>κ²°κ³Ό</b>
        <div class="nums" id="balls"></div>
        <div class="mini" id="note"></div>
      </div>

      <div class="history" id="history"></div>
    </div>
  </div>

<script>
  const btn = document.getElementById("btn");
  const countSel = document.getElementById("count");
  const fixedInput = document.getElementById("fixed");
  const balls = document.getElementById("balls");
  const note = document.getElementById("note");
  const history = document.getElementById("history");

  function parseFixed() {
    const raw = fixedInput.value.trim();
    if (!raw) return [];
    const parts = raw.split(/[\s,]+/).filter(Boolean);
    const nums = [];
    for (const p of parts) {
      const n = Number(p);
      if (!Number.isInteger(n) || n < 1 || n > 45) continue;
      if (!nums.includes(n)) nums.push(n);
    }
    return nums.slice(0, 6); // μµλ€ 6κ°κΉμ§€λ§
  }

  function pickOneSet(fixedNums) {
    // fixedNums ν¬ν•¨ν•΄μ„ 6κ° λ§λ“¤κΈ°
    const set = new Set(fixedNums);
    while (set.size < 6) {
      const n = Math.floor(Math.random() * 45) + 1;
      set.add(n);
    }
    return Array.from(set).sort((a, b) => a - b);
  }

  function renderSets(sets) {
    balls.innerHTML = "";
    history.innerHTML = "";

    // μµμ‹  κ²°κ³Ό(μ²« μ„ΈνΈ)λ§ κ³µ λ¨μ–‘μΌλ΅ λ³΄μ—¬μ£Όκ³ ,
    // μ—¬λ¬ μ„ΈνΈλ” μ•„λμ— ν…μ¤νΈλ΅ κ°™μ΄ μ¶λ ¥
    const first = sets[0] || [];
    first.forEach(n => {
      const el = document.createElement("div");
      el.className = "ball";
      el.textContent = n;
      balls.appendChild(el);
    });

    if (sets.length > 1) {
      let html = "<b>μ¶”κ°€ μ„ΈνΈ</b><br/>";
      sets.forEach((arr, idx) => {
        html += `${idx + 1}μ„ΈνΈ: <code>${arr.join(", ")}</code><br/>`;
      });
      history.innerHTML = html;
    } else {
      history.innerHTML = `<b>1μ„ΈνΈ</b><br/><code>${first.join(", ")}</code>`;
    }
  }

  btn.addEventListener("click", () => {
    const fixedNums = parseFixed();
    const c = Number(countSel.value) || 1;

    if (fixedNums.length > 6) {
      note.textContent = "κ³ μ • μ«μλ” μµλ€ 6κ°κΉμ§€ κ°€λ¥ν•΄μ”.";
      return;
    }

    const sets = [];
    for (let i = 0; i < c; i++) {
      sets.push(pickOneSet(fixedNums));
    }

    renderSets(sets);

    note.textContent =
      fixedNums.length
        ? `κ³ μ • μ«μ: ${fixedNums.join(", ")} ν¬ν•¨ν•΄μ„ μ¶”μ²ν–μ–΄μ”.`
        : `λλ¤μΌλ΅ μ¶”μ²ν–μ–΄μ”.`;
  });

  // μ²« λ΅λ“ μ‹ κΈ°λ³Έ 1λ² μ¶”μ²
  btn.click();
</script>
</body>
</html>
